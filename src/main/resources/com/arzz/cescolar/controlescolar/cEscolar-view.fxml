<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.*?>
<?import java.net.*?>

<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<BorderPane fx:id="mainPane" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.arzz.cescolar.controlescolar.AppController">
   <stylesheets>
      <URL value="@styles/dashboard.css" />
   </stylesheets>

   <top>
      <!-- Header Bar -->
      <HBox styleClass="header-bar" prefHeight="80.0" prefWidth="1280.0" spacing="20.0">
         <padding>
            <Insets top="10" right="10" bottom="10" left="10" />
         </padding>
         <children>
            <!-- Logo -->
            <ImageView fitHeight="60.0" fitWidth="60.0" pickOnBounds="true" preserveRatio="true">
               <image>
                  <Image url="@images/logoAI.png" />
               </image>
            </ImageView>

            <!-- Nombre del Proyecto -->
            <Label text="SysArZz - Control Escolar" styleClass="header-title" />

            <!-- Espacio flexible entre el título y los botones -->
            <Region HBox.hgrow="ALWAYS"/>

         </children>
      </HBox>
   </top>

   <center>
      <!-- Main Content Area -->
      <StackPane>
         <children>
            <!-- Dashboard Content -->
            <ScrollPane fitToWidth="true" styleClass="dashboard-content">
               <content>
                  <VBox spacing="20.0" styleClass="dashboard-container">
                     <padding>
                        <Insets top="20" right="20" bottom="20" left="20" />
                     </padding>

                     <!-- Dashboard Title -->
                     <Label text="Dashboard" styleClass="section-title" />

                     <!-- Dashboard Cards -->
                     <HBox spacing="20.0">
                        <!-- Alumnos Card -->
                        <VBox styleClass="dashboard-card" onMouseClicked="#handleAlumnosAction">
                           <HBox spacing="15.0" alignment="CENTER_LEFT">
                              <StackPane styleClass="card-icon-container, alumnos-color">
                                 <ImageView fitHeight="32.0" fitWidth="32.0">
                                    <image>
                                       <Image url="@images/icons/users.png" />
                                    </image>
                                 </ImageView>
                              </StackPane>
                              <VBox>
                                 <Label text="Alumnos" styleClass="card-title" />
                                 <Label text="256" styleClass="card-count" />
                              </VBox>
                           </HBox>
                        </VBox>

                        <!-- Maestros Card -->
                        <VBox styleClass="dashboard-card" onMouseClicked="#handleMaestrosAction">
                           <HBox spacing="15.0" alignment="CENTER_LEFT">
                              <StackPane styleClass="card-icon-container, maestros-color">
                                 <ImageView fitHeight="32.0" fitWidth="32.0">
                                    <image>
                                       <Image url="@images/icons/graduation-cap.png" />
                                    </image>
                                 </ImageView>
                              </StackPane>
                              <VBox>
                                 <Label text="Maestros" styleClass="card-title" />
                                 <Label text="32" styleClass="card-count" />
                              </VBox>
                           </HBox>
                        </VBox>

                        <!-- Materias Card -->
                        <VBox styleClass="dashboard-card" onMouseClicked="#handleMateriasAction">
                           <HBox spacing="15.0" alignment="CENTER_LEFT">
                              <StackPane styleClass="card-icon-container, materias-color">
                                 <ImageView fitHeight="32.0" fitWidth="32.0">
                                    <image>
                                       <Image url="@images/icons/book-open.png" />
                                    </image>
                                 </ImageView>
                              </StackPane>
                              <VBox>
                                 <Label text="Materias" styleClass="card-title" />
                                 <Label text="48" styleClass="card-count" />
                              </VBox>
                           </HBox>
                        </VBox>
                     </HBox>

                     <!-- Mostrar materias asignadas al usuario seleccionado -->
                     <VBox styleClass="assigned-materias-section">
                        <Label text="Materias Asignadas" styleClass="section-title" />
                        <VBox fx:id="materiasList" styleClass="materias-list">
                           <!-- Aquí se mostrarán las materias asignadas al usuario seleccionado -->
                        </VBox>
                     </VBox>

                     <!-- ComboBox y Botón para seleccionar usuario y asignar materias -->
                     <HBox styleClass="user-action-section" spacing="20.0" alignment="CENTER_LEFT">
                        <!-- ComboBox para seleccionar alumno -->
                        <ComboBox fx:id="userComboBox" promptText="Selecciona un Alumno" styleClass="combo-box" />

                        <!-- Botón para asignar materias -->
                        <Button text="Asignar Materias" styleClass="assign-button" onAction="#handleAssignMaterias" />
                     </HBox>
                  </VBox>
               </content>
            </ScrollPane>

            <!-- Side Panel -->
            <AnchorPane fx:id="sidePanel" styleClass="side-panel" visible="false" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0">
               <!-- Side Panel Header -->
               <HBox styleClass="side-panel-header" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
                  <HBox alignment="CENTER_LEFT" spacing="10.0" HBox.hgrow="ALWAYS">
                     <ImageView fx:id="sidePanelIcon" fitHeight="24.0" fitWidth="24.0" />
                     <Label fx:id="sidePanelTitle" styleClass="side-panel-title" />
                  </HBox>
                  <Button fx:id="btnCloseSidePanel" styleClass="close-button" onAction="#handleCloseSidePanel">
                     <graphic>
                        <ImageView fitHeight="16.0" fitWidth="16.0">
                           <Image url="@images/icons/x.png"/>
                        </ImageView>
                     </graphic>
                  </Button>
               </HBox>

               <!-- Search and Add Section -->
               <HBox styleClass="search-section" spacing="10.0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="60.0">
                  <HBox styleClass="search-container" HBox.hgrow="ALWAYS">
                     <ImageView fitHeight="16.0" fitWidth="16.0">
                        <image>
                           <Image url="@images/icons/search.png" />
                        </image>
                     </ImageView>
                     <TextField fx:id="searchField" promptText="Buscar..." styleClass="search-field" HBox.hgrow="ALWAYS" />
                  </HBox>
                  <Button fx:id="btnAddNew" text="Nuevo" styleClass="add-button">
                     <graphic>
                        <ImageView fitHeight="16.0" fitWidth="16.0">
                           <Image url="@images/icons/plus.png"/>
                        </ImageView>
                     </graphic>
                  </Button>
               </HBox>

               <!-- List View -->
               <ListView fx:id="itemListView" styleClass="item-list-view" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="120.0" AnchorPane.bottomAnchor="0" />
            </AnchorPane>
         </children>
      </StackPane>
   </center>
</BorderPane>